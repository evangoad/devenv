#!/usr/bin/env python

import os
import subprocess
import git 

git.cmd.Git(os.path.expanduser("~/.devie")).pull();

if os.uname()[0] == "Linux":
  print "devenv detected LINUX! running command:"
  command = ["ansible-playbook", os.path.expanduser("~/.devie/playbooks/ubuntu.yml"), "-i", os.path.expanduser("~/.devie/playbooks/inventory")]
  print str(command)
  subprocess.check_call(command)
else:
  print "devenv detected OSX! running command:"
  command = ["ansible-playbook", os.path.expanduser("~/.devie/playbooks/osx.yml"), "-i", os.path.expanduser("~/.devie/playbooks/inventory")]
  print str(command)
  subprocess.check_call(command)
